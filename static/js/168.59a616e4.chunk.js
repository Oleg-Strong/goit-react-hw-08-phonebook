"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[168],{9168:function(e,n,r){r.r(n),r.d(n,{default:function(){return X}});var t=r(5705),a=r(5282),i=(r(7427),r(4764)),o=r(9434),c=r(3064),s=function(e){return e.filter},l=function(e){return e.contacts.items},d=function(e){return e.contacts.isLoading},u=function(e){return e.contacts.error},m=function(){return{filter:(0,o.v9)(s),contacts:(0,o.v9)(l),isLoading:(0,o.v9)(d),error:(0,o.v9)(u)}},x=r(4554),h=r(6258),p=r(6151),f=r(184),b=function(){var e=a.object().shape({name:a.string().min(3,"please enter a name of at least 3 characters").max(25,"name cannot be more than 25 characters").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"name is not valid").required("name field is required"),number:a.string().required("number field is required").phone("UA",!0,"enter the number in the format +380(**)-***-**-**")}),n=m().contacts,r=(0,o.I0)();return(0,f.jsx)(x.Z,{p:2,sx:{width:"100%"},children:(0,f.jsx)(t.J9,{initialValues:{name:"",number:""},validationSchema:e,onSubmit:function(e,t){var a=t.resetForm,o=function(e,n){var r=n.name,t=n.number,a=r.toLowerCase().split(" ").join(""),o=t.split("-").join(""),c=e.some((function(e){return e.name.toLowerCase().split(" ").join("")===a})),s=e.some((function(e){return e.number.split("-").join("")===o}));if(!c&&!s)return n;(0,i.Z)("warning","".concat(s?t:r," is already in contacts!!!"))}(n,e);o&&r((0,c.uK)(o)),a()},children:function(e){return(0,f.jsx)(t.l0,{children:(0,f.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,f.jsx)(t.gN,{as:h.Z,id:"standard-error-helper-text",variant:"filled",label:"Name",type:"text",name:"name",color:"primary",fullWidth:!0,helperText:(0,f.jsx)(t.Bc,{name:"name"}),error:e.errors.name&&e.touched.name}),(0,f.jsx)(t.gN,{as:h.Z,id:"standard-error-helper-text",variant:"filled",label:"Number",type:"tel",name:"number",color:"primary",fullWidth:!0,helperText:(0,f.jsx)(t.Bc,{name:"number"}),error:e.errors.number&&e.touched.number,margin:"normal"}),(0,f.jsx)(p.Z,{variant:"contained",type:"submit",children:"Add contact"})]})})}})})},j=r(2007),g=r.n(j),v=r(890),Z=function(e){var n=e.title;return n?(0,f.jsxs)(v.Z,{variant:"h3",children:["Contact with the name",(0,f.jsxs)(v.Z,{variant:"subtitle3",children:[' "',n,'" ']}),"not found."]}):(0,f.jsx)(v.Z,{variant:"h3",children:"There are no contacts in the phone book yet!"})},y=Z;Z.prototype={title:g().string.isRequired};var w,k,C=r(9439),q=r(2791),z=r(4164),I=r(168),S=r(6088),A=S.Z.div(w||(w=(0,I.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n"]))),L=S.Z.div(k||(k=(0,I.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"]))),N=document.querySelector("#modal-root"),R=function(e){var n=e.closeModal,r=e.children;(0,q.useEffect)((function(){return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}));var t=function(e){"Escape"===e.code&&n()};return(0,z.createPortal)((0,f.jsx)(A,{onClick:function(e){e.target===e.currentTarget&&n()},children:(0,f.jsx)(L,{children:r})}),N)},_=r(3622),D=function(e){var n=e.contactValues,r=e.closeModal,i=n.id,s=n.name,l=n.number,d=a.object().shape({name:a.string().min(3,"please enter a name of at least 3 characters").max(25,"name cannot be more than 25 characters").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"name is not valid").required("name field is required"),number:a.string().required("number field is required").phone("UA",!0,"enter the number in the format +380(**)-***-**-**")}),u={name:s,number:l},m=(0,o.I0)();return(0,f.jsx)(x.Z,{p:6,sx:{backgroundColor:"".concat(_.r.palette.background.header),borderRadius:"5px"},children:(0,f.jsx)(t.J9,{initialValues:u,validationSchema:d,onSubmit:function(e,n){var t=n.resetForm;m((0,c.Tk)({id:i,values:e})),t(),r(),m((0,c.yF)())},children:function(e){return(0,f.jsx)(t.l0,{children:(0,f.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,f.jsx)(v.Z,{variant:"h2",color:_.r.palette.primary.second,children:"Update Contact"}),(0,f.jsx)(t.gN,{as:h.Z,id:"standard-error-helper-text",variant:"standard",label:"Name",type:"text",name:"name",color:"primary",fullWidth:!0,helperText:(0,f.jsx)(t.Bc,{name:"name"}),error:e.errors.name&&e.touched.name,margin:"normal"}),(0,f.jsx)(t.gN,{as:h.Z,id:"standard-error-helper-text",variant:"standard",label:"Number",type:"tel",name:"number",color:"primary",fullWidth:!0,helperText:(0,f.jsx)(t.Bc,{name:"number"}),error:e.errors.number&&e.touched.number,margin:"normal"}),(0,f.jsx)(p.Z,{variant:"contained",type:"submit",children:"Update"})]})})}})})},M=r(5527),T=r(6520),E=r(3400),B=r(3398),F=r(6460),U=function(e){var n=e.contact,r=n.id,t=n.name,a=n.number,i=(0,q.useState)(!1),s=(0,C.Z)(i,2),l=s[0],d=s[1],u=function(){d((function(e){return!e}))},m=(0,o.I0)();return(0,f.jsxs)(M.Z,{sx:{display:"flex",justifyContent:" space-between",alignItems:"center",padding:"10px",width:"100%",borderRadius:"10px",backgroundColor:"".concat(_.r.palette.background.basic)},children:[(0,f.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",flexDirection:{xs:"column",sm:"row"},gap:{sm:"20px"}},children:[(0,f.jsxs)(v.Z,{variant:"subtitle2",color:_.r.palette.primary.second,sx:{fontSize:{xs:"20px",md:"30px",xl:"35px"}},children:[t,":"]}),(0,f.jsx)(T.Z,{title:"Call",children:(0,f.jsx)("a",{href:"tel:+".concat(a),children:(0,f.jsx)(v.Z,{variant:"subtitle2",color:_.r.palette.primary.third,sx:{fontSize:{xs:"20px",md:"30px",xl:"35px"}},children:a})})})]}),(0,f.jsxs)(x.Z,{sx:{display:"flex",gap:"5px"},children:[(0,f.jsx)(T.Z,{title:"Delete",children:(0,f.jsx)(E.Z,{onClick:function(){return m((0,c.GK)(r))},children:(0,f.jsx)(F.Z,{})})}),(0,f.jsx)(T.Z,{title:"Edit",children:(0,f.jsx)(E.Z,{onClick:u,children:(0,f.jsx)(B.Z,{})})})]}),l&&(0,f.jsx)(R,{closeModal:u,children:(0,f.jsx)(D,{closeModal:u,contactValues:n})})]})},V=U;U.prototype={phonebook:g().arrayOf(g().shape({name:g().string.isRequired,id:g().string.isRequired,number:g().string.isRequired})).isRequired};var W=r(3889),H=r(493),P=r(4852),$=function(){var e=m().contacts,n=m().filter,r=function(e,n){var r=e.toLowerCase();return n.filter((function(e){return e.name.toLowerCase().includes(r)})).sort((function(e,n){return e.name.localeCompare(n.name)}))}(n,e);return 0===r.length?(0,f.jsx)(y,{title:n}):(0,f.jsx)(W.$B,{autoHeight:!0,autoHeightMin:0,autoHeightMax:250,children:(0,f.jsx)(H.Z,{sx:{flexDirection:"column"},children:r.map((function(e){return(0,f.jsx)(P.ZP,{children:(0,f.jsx)(V,{contact:e})},e.id)}))})})},J=r(1331),K=function(){var e=(0,o.I0)(),n=m().filter;return(0,f.jsxs)(x.Z,{p:2,sx:{display:"flex",alignItems:"center",flexDirection:"column",width:"100%"},children:[(0,f.jsx)(v.Z,{variant:"h2",color:_.r.palette.primary.second,children:"Find contacts by name"}),(0,f.jsx)(h.Z,{id:"filled-basic",label:"Name",variant:"filled",type:"text",name:"name",value:n,onChange:function(n){var r=n.target.value;e((0,J.M)(r))},margin:"normal",size:"small"})]})},G=r(8601),O=r(4044),Y=r(6009),Q=r(9164),X=function(){var e=(0,o.I0)(),n=m().isLoading,r=(0,Y.a)().user;return(0,q.useEffect)((function(){e((0,c.yF)())}),[e]),(0,f.jsx)(M.Z,{sx:{height:"100vh",overflow:"hidden",overflowY:"scroll",backgroundImage:"url(".concat(G,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:(0,f.jsx)(Q.Z,{children:(0,f.jsxs)(x.Z,{sx:{pt:"70px",pb:"20px",height:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,f.jsx)(v.Z,{variant:"h2",color:_.r.palette.primary.second,sx:{fontSize:{xs:"20px",md:"30px",xl:"35px"}},children:"".concat(r.name,", welcome to your phone book!")}),(0,f.jsx)(b,{}),(0,f.jsx)(K,{}),n?(0,f.jsx)(O.Z,{}):(0,f.jsx)($,{})]})})})}},8601:function(e,n,r){e.exports=r.p+"static/media/bg-contacts.51460d78aab9ebeac994.jpg"}}]);
//# sourceMappingURL=168.59a616e4.chunk.js.map